<?xml version="1.0" encoding="UTF-8"?>
<p>In this framework, first described in [
 <xref rid="pcbi.1006546.ref005" ref-type="bibr">5</xref>], we define deterministic demographic or epidemiological processes of a general form which includes the majority of compartmental models used in mathematical epidemiology and ecology. Defining compartmental models within this form facilitates interpretation of the population genetic model developed in the next section. Let there be 
 <italic>m</italic> demes, and the population size within each deme is given by the vector-valued function of time 
 <italic>Y</italic>
 <sub>1:
  <italic>m</italic>
 </sub>(
 <italic>t</italic>). We may also have 
 <italic>m</italic>′ dynamic variables 
 <inline-formula id="pcbi.1006546.e001">
  <alternatives>
   <graphic xlink:href="pcbi.1006546.e001.jpg" id="pcbi.1006546.e001g" mimetype="image" position="anchor" orientation="portrait" xmlns:xlink="http://www.w3.org/1999/xlink"/>
   <math id="M1">
    <mrow>
     <msubsup>
      <mi>Y</mi>
      <mrow>
       <mn>1</mn>
       <mo>:</mo>
       <msup>
        <mi>m</mi>
        <mo>′</mo>
       </msup>
      </mrow>
      <mo>′</mo>
     </msubsup>
     <mrow>
      <mo>(</mo>
      <mi>t</mi>
      <mo>)</mo>
     </mrow>
    </mrow>
   </math>
  </alternatives>
 </inline-formula> which are not demes (hence do not correspond to the state of a lineage), but which may influence the dynamics of 
 <italic>Y</italic>. The dynamics of 
 <italic>Y</italic> arise from a combination of 
 <italic>births</italic> between and within demes, 
 <italic>migrations</italic> between demes, and 
 <italic>deaths</italic> within demes. We denote these as deterministic matrix-valued functions of time and the state of the system, following the framework in [
 <xref rid="pcbi.1006546.ref005" ref-type="bibr">5</xref>]:
</p>
